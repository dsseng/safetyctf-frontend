<template>
  <v-app>
    <v-toolbar>
      <v-toolbar-title>âš¡ï¸<logo width='112.5' heigth='31.25' :isVertical='false' style='display: inline-block; vertical-align: middle;'></logo> ğŸ‘¨â€ğŸ’»ğŸ‘©â€ğŸ’»</v-toolbar-title>
      <v-spacer></v-spacer>
      <v-toolbar-items class="hidden-sm-and-down">
        <lang-switch></lang-switch>
      </v-toolbar-items>
    </v-toolbar>
    <v-alert color="error" icon="signal_cellular_connected_no_internet_4_bar" :value="connErr" transition="scale-transition">
      {{ $t('message.error') }}
    </v-alert>
    <v-parallax src="static/img/602727-background-city-1920x1200-windows-7.jpg" height="600">
      <v-layout
        column
        align-center
        justify-center
        class="yellow--text"
      >
        <h1 class="yellow--text mb-2 display-1 text-xs-center">{{ $t('message.welcome') }}</h1>
        <div class="subheading mb-3 text-xs-center">{{ $t('message.descr') }}</div>
        <v-btn
          class="blue lighten-2 mt-5"
          dark
          large
          to="/game"
        >
          {{ $t('message.getStarted') }}
        </v-btn>
      </v-layout>
    </v-parallax>
    <v-layout row wrap justify-space-around>
      <v-flex xs12 md3>
        <v-card>
          <v-card-media src="static/img/148573-best-hacking-wallpaper-1920x1080.jpg" height="200px"></v-card-media>
          <v-card-title primary-title>
            <div>
              <h3 class="headline mb-0">{{ $t('message.manyPlayers') }}</h3>
              <div>{{ $tc('message.users', usersTotal, { count: usersTotal }) }}</div>
            </div>
          </v-card-title>
          <v-card-actions>
            <v-btn flat color="orange" to="/game">{{ $t('message.beOne') }}</v-btn>
          </v-card-actions>
        </v-card>
      </v-flex>
      <v-flex xs12 md3>
        <v-card>
          <v-card-media src="static/img/80891-math-background-1920x1200-meizu.jpg" height="200px"></v-card-media>
          <v-card-title primary-title>
            <div>
              <h3 class="headline mb-0">{{ $t('message.manyTasks') }}</h3>
              <div>{{ $tc('message.tasks', tasksTotal, { count: tasksTotal }) }}</div>
            </div>
          </v-card-title>
          <v-card-actions>
            <v-btn flat color="green" to="/game">{{ $t('message.solve') }}</v-btn>
          </v-card-actions>
        </v-card>
      </v-flex>
      <v-flex xs12 md3>
        <v-card>
          <v-card-media src="static/img/677680-new-cool-math-backgrounds-1920x1080-high-resolution.jpg" height="200px"></v-card-media>
          <v-card-title primary-title>
            <div>
              <h3 class="headline mb-0">{{ $t('message.interesting') }}</h3>
              <div>{{ $t('message.made') }}</div>
            </div>
          </v-card-title>
          <v-card-actions>
            <v-btn flat color="red" to="/game">{{ $t('message.super') }}</v-btn>
          </v-card-actions>
        </v-card>
      </v-flex>
    </v-layout>
    <section>
      <v-container>
        <p>
          {{ $t('message.competition') }}
        </p>
        <p>
          {{ $t('message.if') }}
        </p>
      </v-container>
    </section>
  </v-app>
</template>

<script>
import anime from 'animejs'
import LangSwitch from './Game/LangSwitch'
import Logo from './Logo'

export default {
  name: 'hello',
  components: { LangSwitch, Logo },
  i18n: {
    messages: {
      en: {
        message: {
          error: 'It seems to be some connection problems',
          welcome: 'âš¡ï¸Welcome to SafetyCTF!ğŸ‘¨â€ğŸ’»ğŸ‘©â€ğŸ’»',
          getStarted: 'Get started!ğŸ‰',
          descr: 'Hello, this is a competition in hacking and IT safetyğŸ”’ğŸ”“',
          manyPlayers: 'ManyğŸ‘¨â€ğŸ’»players around the world',
          interesting: 'Interesting tasks made by true hackers',
          made: 'SafetyCTF\'s tasks are made by realy cool hackers!ğŸ˜',
          tasks: 'In total, SafetyCTF has {count} task | In total, SafetyCTF has {count} tasks',
          users: 'In total, SafetyCTF has {count} user | In total, SafetyCTF has {count} users',
          beOne: 'Get Started and be one of them!ğŸ˜',
          solve: 'Get Started and solve them!ğŸ”“',
          super: 'Get Started and solve this super tasks!ğŸ”',
          competition: 'SafetyCTF is a competition in hackingâ€ ğŸ’» and IT safety ğŸ”’ğŸ”“. CTF is "Capture The Flag". You need to solve tasks ğŸ“œ to get flags, codes starting with $ctf.',
          if: 'If you have solved task, you will get money ğŸ’µ and experience âœ¨.',
          manyTasks: 'ManyğŸ“œtasks'
        }
      },
      ru: {
        message: {
          error: 'ĞŸĞ¾Ñ…Ğ¾Ğ¶Ğµ, Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ¾ÑˆĞ»Ğ° Ğ¾ÑˆĞ¸Ğ±ĞºĞ° ÑĞ¾ĞµĞ´Ğ¸Ğ½ĞµĞ½Ğ¸Ñ',
          welcome: 'âš¡ï¸Ğ”Ğ¾Ğ±Ñ€Ğ¾ Ğ¿Ğ¾Ğ¶Ğ°Ğ»Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ² SafetyCTF!ğŸ‘¨â€ğŸ’»ğŸ‘©â€ğŸ’»',
          getStarted: 'ĞŸĞ¾ĞµÑ…Ğ°Ğ»Ğ¸!ğŸ‰',
          descr: 'ĞŸÑ€Ğ¸Ğ²ĞµÑ‚, ÑÑ‚Ğ¾ ÑĞ¾Ñ€ĞµĞ²Ğ½Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¿Ğ¾ Ğ²Ğ·Ğ»Ğ¾Ğ¼Ñƒ Ğ¸ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ğ¾Ğ½Ğ½Ğ¾Ğ¹ Ğ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚Ğ¸ğŸ”’ğŸ”“',
          manyPlayers: 'Ğ‘Ğ¾Ğ»ÑŒÑˆĞ¾Ğµ ĞºĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ğŸ‘¨â€ğŸ’»Ğ¸Ğ³Ñ€Ğ¾ĞºĞ¾Ğ² Ğ¿Ğ¾ Ğ²ÑĞµĞ¼Ñƒ Ğ¼Ğ¸Ñ€Ñƒ',
          interesting: 'Ğ˜Ğ½Ñ‚ĞµÑ€ĞµÑĞ½Ñ‹Ğµ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ¸, ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ½Ğ°ÑÑ‚Ğ¾ÑÑ‰Ğ¸Ğ¼Ğ¸ Ñ…Ğ°ĞºĞµÑ€Ğ°Ğ¼Ğ¸',
          made: 'Ğ—Ğ°Ğ´Ğ°Ñ‡Ğ¸ SafetyCTF ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ñ‹ Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ ĞºÑ€ÑƒÑ‚Ñ‹Ğ¼Ğ¸ Ñ…Ğ°ĞºĞµÑ€Ğ°Ğ¼Ğ¸!ğŸ˜',
          tasks: 'Ğ’ SafetyCTF ÑÑƒÑ‰ĞµÑÑ‚Ğ²ÑƒĞµÑ‚ {count} Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ° | Ğ’ SafetyCTF ÑÑƒÑ‰ĞµÑÑ‚Ğ²ÑƒĞµÑ‚ {count} Ğ·Ğ°Ğ´Ğ°Ñ‡',
          users: 'Ğ’ SafetyCTF Ğ·Ğ°Ñ€ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½ {count} Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ | Ğ’ SafetyCTF Ğ·Ğ°Ñ€ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¾ {count} Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹',
          beOne: 'Ğ£Ñ‡Ğ°ÑÑ‚Ğ²ÑƒĞ¹ Ğ¸ Ğ±ÑƒĞ´ÑŒ Ğ¾Ğ´Ğ½Ğ¸Ğ¼ Ğ¸Ğ· Ğ½Ğ¸Ñ…!ğŸ˜',
          solve: 'Ğ£Ñ‡Ğ°ÑÑ‚Ğ²ÑƒĞ¹ Ğ¸ Ñ€ĞµÑˆĞ°Ğ¹ Ğ¸Ñ…!ğŸ”“',
          super: 'Ğ£Ñ‡Ğ°ÑÑ‚Ğ²ÑƒĞ¹ Ğ¸ Ñ€ĞµÑˆĞ°Ğ¹ ÑÑ‚Ğ¸ ĞºĞ»Ğ°ÑÑĞ½Ñ‹Ğµ Ğ¸ÑĞ¿Ñ‹Ñ‚Ğ°Ğ½Ğ¸Ñ!ğŸ”',
          competition: 'SafetyCTF --  ÑĞ¾Ñ€ĞµĞ²Ğ½Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ  Ğ¿Ğ¾â€ Ğ²Ğ·Ğ»Ğ¾Ğ¼Ñƒ ğŸ’» Ğ¸ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ğ¾Ğ½Ğ½Ğ¾Ğ¹ Ğ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚Ğ¸ ğŸ”’ğŸ”“. CTF -- "Capture The Flag". Ğ§Ñ‚Ğ¾Ğ±Ñ‹ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ñ„Ğ»Ğ°Ğ³Ğ¸ (ĞºĞ¾Ğ´Ñ‹, Ğ½Ğ°Ñ‡Ğ¸Ğ½Ğ°ÑÑ‰Ğ¸ĞµÑÑ Ñ $ctf), Ğ½ÑƒĞ¶Ğ½Ğ¾ Ñ€ĞµÑˆĞ°Ñ‚ÑŒ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ¸ (Ñ‚Ğ°ÑĞºĞ¸) ğŸ“œ',
          if: 'Ğ•ÑĞ»Ğ¸ Ğ²Ñ‹ Ñ€ĞµÑˆĞ¸Ğ»Ğ¸ Ğ·Ğ°Ğ´Ğ°Ñ‡Ñƒ, Ğ²Ñ‹ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚Ğµ Ğ´ĞµĞ½ÑŒĞ³Ğ¸ ğŸ’µ Ğ¸ Ğ¾Ğ¿Ñ‹Ñ‚ âœ¨.',
          manyTasks: 'ĞœĞ½Ğ¾Ğ³Ğ¾ğŸ“œĞ·Ğ°Ğ´Ğ°Ğ½Ğ¸Ğ¹'
        }
      }
    }
  },
  data () {
    return {
      tasksTotal: 0,
      usersTotal: 0,
      connErr: false
    }
  },
  async created () {
    try {
      let usersAndTasks = await this.$http.get(this.$apiRoot + 'stats/usersAndTasks')

      if (usersAndTasks.data.code === 200) {
        let vm = this
        anime({
          targets: vm,
          usersTotal: usersAndTasks.data.usersCount,
          tasksTotal: usersAndTasks.data.tasksCount,
          duration: 1000,
          easing: 'linear',
          round: 1
        })
        this.connErr = false
      } else {
        console.log(usersAndTasks.data)
        this.connErr = true
      }
    } catch (err) {
      console.log(err)
      this.connErr = true
    }
  }
}
</script>
